<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    

    <title>
      =&gt; 箭头函数 | EyesiM&#39;s Blog 
    </title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
      <meta name="author" content="EyesiM">
    
    

    <meta name="description" content="之前在学校里面写的项目很少会用到 ES6 ，就算是用也只不过是将 const 啊、let 啊或者是 set 这些简单地用一用，现在在公司看到的项目才发觉，大家早就熟练地用上了 ES6 的东西，最近也在学着使用,发现有些东西使用 ES6 的语法来写的确方便很多，下面就介绍一下箭头函数：
箭头函数一般比一个函数表达式更短，并且不绑定自己的 this、argumrnts、super 或 new.tar">
<meta property="og:type" content="article">
<meta property="og:title" content="=> 箭头函数 | EyesiM's Blog">
<meta property="og:url" content="http://yoursite.com/2017/06/20/=- 箭头函数/index.html">
<meta property="og:site_name" content="EyesiM's Blog">
<meta property="og:description" content="之前在学校里面写的项目很少会用到 ES6 ，就算是用也只不过是将 const 啊、let 啊或者是 set 这些简单地用一用，现在在公司看到的项目才发觉，大家早就熟练地用上了 ES6 的东西，最近也在学着使用,发现有些东西使用 ES6 的语法来写的确方便很多，下面就介绍一下箭头函数：
箭头函数一般比一个函数表达式更短，并且不绑定自己的 this、argumrnts、super 或 new.tar">
<meta property="og:updated_time" content="2017-06-22T12:35:47.630Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="=> 箭头函数 | EyesiM's Blog">
<meta name="twitter:description" content="之前在学校里面写的项目很少会用到 ES6 ，就算是用也只不过是将 const 啊、let 啊或者是 set 这些简单地用一用，现在在公司看到的项目才发觉，大家早就熟练地用上了 ES6 的东西，最近也在学着使用,发现有些东西使用 ES6 的语法来写的确方便很多，下面就介绍一下箭头函数：
箭头函数一般比一个函数表达式更短，并且不绑定自己的 this、argumrnts、super 或 new.tar">
    
    
    
      <link rel="icon" type="image/x-icon" href="/favicon.png">
    
    <link rel="stylesheet" href="/css/uno.css">
    <link rel="stylesheet" href="/css/highlight.css">
    <link rel="stylesheet" href="/css/archive.css">
    <link rel="stylesheet" href="/css/china-social-icon.css">

</head>
<body>

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    

<header class="panel-cover panel-cover--collapsed">


  <div class="panel-main">

  
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        

        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage">EyesiM&#39;s Blog</a></h1>
        <hr class="panel-cover__divider" />

        

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">

              
                
                <li class="navigation__item"><a href="/#blog" title="" class="blog-button">首页</a></li>
              
                
                <li class="navigation__item"><a href="/about" title="" class="">关于</a></li>
              
                
                <li class="navigation__item"><a href="/archive" title="" class="">归档</a></li>
              

            </ul>
          </nav>

          <!-- ----------------------------
To add a new social icon simply duplicate one of the list items from below
and change the class in the <i> tag to match the desired social network
and then add your link to the <a>. Here is a full list of social network
classes that you can use:

    icon-social-500px
    icon-social-behance
    icon-social-delicious
    icon-social-designer-news
    icon-social-deviant-art
    icon-social-digg
    icon-social-dribbble
    icon-social-facebook
    icon-social-flickr
    icon-social-forrst
    icon-social-foursquare
    icon-social-github
    icon-social-google-plus
    icon-social-hi5
    icon-social-instagram
    icon-social-lastfm
    icon-social-linkedin
    icon-social-medium
    icon-social-myspace
    icon-social-path
    icon-social-pinterest
    icon-social-rdio
    icon-social-reddit
    icon-social-skype
    icon-social-spotify
    icon-social-stack-overflow
    icon-social-steam
    icon-social-stumbleupon
    icon-social-treehouse
    icon-social-tumblr
    icon-social-twitter
    icon-social-vimeo
    icon-social-xbox
    icon-social-yelp
    icon-social-youtube
    icon-social-zerply
    icon-mail

-------------------------------->

<!-- add social info here -->



<nav class="cover-navigation navigation--social">
  <ul class="navigation">

    
      <!-- Github -->
      <li class="navigation__item">
        <a href="https://github.com/EyesiM" title="Huno on GitHub">
          <i class='icon icon-social-github'></i>
          <span class="label">GitHub</span>
        </a>
      </li>
    

    <!-- China social icon -->
    <!--
    
      <li class="navigation__item">
        <a href="" title="">
          <i class='icon cs-icon-douban'></i>
          <span class="label">Douban</span>
        </a>
      </li>

      <li class="navigation__item">
        <a href="" title="">
          <i class='icon cs-icon-weibo'></i>
          <span class="label">Weibo</span>
        </a>
      </li>

    -->



  </ul>
</nav>



        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner entry">
            

<article class="post-container post-container--single">

  <header class="post-header">
    
    <h1 class="post-title">=&gt; 箭头函数</h1>

    

    <div class="post-meta">
      <time datetime="2017/06/20" class="post-meta__date date">2017/06/20</time> 

      <span class="post-meta__tags tags">

          
            <font class="categories">
            &#8226; 分类:
            <a class="categories-link" href="/categories/ES6-JavaScript/">ES6 JavaScript</a>
            </font>
          

          

      </span>
    </div>
    
    

  </header>

  <section id="post-content" class="article-content post">
    <hr>
<p>之前在学校里面写的项目很少会用到 ES6 ，就算是用也只不过是将 const 啊、let 啊或者是 set 这些简单地用一用，现在在公司看到的项目才发觉，大家早就熟练地用上了 ES6 的东西，最近也在学着使用,发现有些东西使用 ES6 的语法来写的确方便很多，下面就介绍一下箭头函数：</p>
<pre><code>箭头函数一般比一个函数表达式更短，并且不绑定自己的 this、argumrnts、super 或 new.target，适用于非方法函数，并且它们不能用作构造函数。
</code></pre><p><strong>基础语法：</strong></p>
<ol>
<li><p>参数、返回值</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//=&gt;:</span></span><br><span class="line"></span><br><span class="line">a =&gt; a + <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数、操作、无返回值</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">    test1();</span><br><span class="line">    test2();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//=&gt;</span></span><br><span class="line">event =&gt; &#123;</span><br><span class="line">    test1();</span><br><span class="line">    test2();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数、操作、有返回值（不忽略 return）</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( x &gt; <span class="number">0</span> ) &#123;</span><br><span class="line">        <span class="keyword">return</span> x * x;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> x + x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//=&gt;</span></span><br><span class="line">x=&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span>( x &gt; <span class="number">0</span> ) &#123;</span><br><span class="line">        <span class="keyword">return</span> x * x;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> x + x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数、返回值( {} 为函数体，可另外加括号表示返回值 )</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        foo: x</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//=&gt;</span></span><br><span class="line"></span><br><span class="line">x =&gt; &#123;</span><br><span class="line">    foo: x</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>多参数( 利用括号 )</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">x,y,z,...rest</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> i ,sum = x+y;</span><br><span class="line">    <span class="keyword">for</span>( i = <span class="number">0</span>; r &lt; rest.length; i++ ) &#123;</span><br><span class="line">        sum += rest[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sam;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// =&gt;</span></span><br><span class="line">( x,y,z,...rest ) =&gt; &#123;</span><br><span class="line">    <span class="keyword">var</span> i ,sum = x+y;</span><br><span class="line">    <span class="keyword">for</span>( i = <span class="number">0</span>; r &lt; rest.length; i++ ) &#123;</span><br><span class="line">        sum += rest[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sam;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><strong>作用：</strong><br>箭头函数的引用有两方面的作用：</p>
<ul>
<li>更简短的函数书写</li>
<li>对 this 的词法解析</li>
</ul>
<p>短函数书写这块我们在上面的例子已经领略过了，这里就不提了，这里来说说 对 this 的词法解析。</p>
<ol>
<li>不绑定 this<br>在箭头函数以前，每个新定义的函数都会有自己的 this 值，在面向对象风格的编程中，这会带来很多困扰。<br>eg:<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.age = <span class="number">0</span>;</span><br><span class="line">    serInterval(<span class="function"><span class="keyword">function</span> <span class="title">growUp</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//在非严格模式下， groupUp() 函数定义了内部的 this 为 全局对象而非 Person 中的 this </span></span><br><span class="line">        <span class="keyword">this</span>.age ++;</span><br><span class="line">    &#125;,<span class="number">3000</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person();</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>（1）闭包解决</p>
<pre><code>在 ECMAScript 对此的解决方法是通过 this 值赋给变量，将变量放到闭包中去解决。
</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span>;</span><br><span class="line">    that.age = <span class="number">0</span>;</span><br><span class="line">    setInterval(<span class="function"><span class="keyword">function</span> <span class="title">growUp</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        that.age++;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person();</span><br></pre></td></tr></table></figure>
<p>（2）bind 函数解决</p>
<pre><code>.bind(this)
</code></pre><p><strong>(3) 箭头函数</strong><br>而箭头函数解决了这个情景的问题，它会捕捉其所在的上下文的 this 值，来作为自己的 this 值，因此下面的代码捕捉到的是 Person 中的 this:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.age = <span class="number">0</span>;</span><br><span class="line">    setInterval( () =&gt; &#123;</span><br><span class="line">        <span class="keyword">this</span>.age++;</span><br><span class="line">    &#125;,<span class="number">3000</span> )</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person();</span><br></pre></td></tr></table></figure></p>
<p>另外：</p>
<p><1> 箭头函数的写法会忽略严格模式中与 this 相关的规则<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f = () =&gt; &#123;</span><br><span class="line">    <span class="string">'use strict'</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;;</span><br><span class="line">f() === <span class="built_in">window</span>; <span class="comment">//true</span></span><br></pre></td></tr></table></figure></1></p>
<p><2> call() 与 apply() 方法传入的只是参数，不会影响 this<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> adder = &#123;</span><br><span class="line">    base: <span class="number">1</span>, </span><br><span class="line">    add : <span class="function"><span class="keyword">function</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> f = v =&gt; v + <span class="keyword">this</span>.base;</span><br><span class="line">        <span class="keyword">return</span> f(a);</span><br><span class="line">    &#125;,</span><br><span class="line">    addThruCall: <span class="function"><span class="keyword">function</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> f = v =&gt; v + <span class="keyword">this</span>.base;</span><br><span class="line">        <span class="keyword">var</span> b = &#123;</span><br><span class="line">            base: <span class="number">2</span>,</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">return</span> f.call(b, a);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(adder.add(<span class="number">1</span>)); <span class="comment">// 2 </span></span><br><span class="line"><span class="built_in">console</span>.log(adder.addThruCall(<span class="number">1</span>));<span class="comment">// 2</span></span><br></pre></td></tr></table></figure></2></p>
<ul>
<li><p>不绑定参数</p>
<p>  箭头函数不会再内部暴露参数(arguments)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="built_in">arguments</span> = <span class="number">42</span>;<span class="comment">//若 =&gt; 所在作用域上无 arguments 则内部的 arguments 为 undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = () =&gt; <span class="built_in">arguments</span>;</span><br><span class="line">arr();<span class="comment">//42</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">0</span>]);<span class="comment">//5</span></span><br><span class="line">    <span class="keyword">var</span> f = (i) =&gt; <span class="built_in">arguments</span>[<span class="number">0</span>] + i;<span class="comment">// 注意这里 arguments 取的是 foo 的参数，箭头函数是不会暴露内部参数的。</span></span><br><span class="line">    <span class="keyword">return</span> f(<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line">foo(<span class="number">5</span>); <span class="comment">// 7</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>箭头函数没有自己的 arguments,不过大多数情况下，rest 参数可以给出一个解决方案：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> f = (...args) = args[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">return</span> f(<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line">foo(<span class="number">1</span>);<span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>使用 new 操作符<br>箭头函数不能用作构造器，否则会抛出错误</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Foo = () =&gt; &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> foo = <span class="keyword">new</span> Foo();<span class="comment">// Uncaught TypeError: Foo is not a constructor</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>使用原型属性<br>箭头函数没有原型属性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Foo = () =&gt; &#123;&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(Foo.prototype);<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>使用 yield 关键字<br>yield 关键字通常不能在箭头函数中使用（除非是嵌套在允许使用的函数内）。因此，箭头函数不能用作生成器。</p>
</li>
</ul>
<p><strong>补充：</strong></p>
<ul>
<li>返回文字表达式<br>用箭头函数返回一个文字表达式是行不通的。<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> func = () =&gt; &#123;</span><br><span class="line">    foo:<span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//undefined</span></span><br><span class="line"><span class="keyword">var</span> func = () =&gt; &#123;</span><br><span class="line">    foo: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">// Uncaught SyntaxError: Unexpected token (</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>这是因为花括号（即 {} ）里面的代码被解析为序列语句了（例如， foo 被认为是一个标签, 而非文字表达式的组成部分）。<br>所以，记得用圆括号把文字表达式包起来：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> func = () =&gt; (</span><br><span class="line">    &#123;</span><br><span class="line">        foo: <span class="number">1</span> </span><br><span class="line">    &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<ul>
<li>换行<br>箭头函数在参数与箭头间不可换行：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">var</span> func = ()</span><br><span class="line">                =&gt; <span class="number">1</span>;</span><br><span class="line"><span class="comment">//Uncaught SyntaxError: Unexpected token =&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>解析顺序<br>箭头函数的箭头虽然不是操作符也不是运算符，但是会受操作符优先级的影响</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> callback;</span><br><span class="line"></span><br><span class="line">callback = callback || <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;; </span><br><span class="line"><span class="comment">// ok</span></span><br><span class="line">callback = callback || () =&gt; &#123;&#125;;      </span><br><span class="line"><span class="comment">// SyntaxError:非法箭头函数属性</span></span><br><span class="line">callback = callback || (() =&gt; &#123;&#125;);    </span><br><span class="line"><span class="comment">// ok</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">0</span>]);<span class="comment">//5</span></span><br><span class="line">    <span class="keyword">var</span> f = (i) =&gt; <span class="built_in">arguments</span>[<span class="number">0</span>] + i; </span><br><span class="line">    <span class="keyword">return</span> f(<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line">foo(<span class="number">5</span>); <span class="comment">// 7</span></span><br></pre></td></tr></table></figure>

  </section>

  
  

<section class="post-comments">

    <div class="ds-thread" data-thread-key="2017/06/20/=- 箭头函数/"></div>

    <script type="text/javascript">
      var duoshuoQuery = {short_name:"letian"};
      (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
        || document.getElementsByTagName('body')[0]).appendChild(ds);
      })();
    </script> 

</section>


</article>


            <footer class="footer">

    <span class="footer__copyright">&copy; 2014-2015. | 由<a href="https://hexo.io/">Hexo</a>强力驱动 | 主题<a href="https://github.com/someus/huno">Huno</a></span>
    
</footer>
        </div>
    </div>

    <!-- js files -->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/scale.fix.js"></script>
    

    

    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript"> 
        $(document).ready(function(){
            MathJax.Hub.Config({ 
                tex2jax: {inlineMath: [['[latex]','[/latex]'], ['\\(','\\)']]} 
            });
        });
    </script>


    

    <script src="/js/awesome-toc.min.js"></script>
    <script>
        $(document).ready(function(){
            $.awesome_toc({
                overlay: true,
                contentId: "post-content",
            });
        });
    </script>


    
    
    <!--kill ie6 -->
<!--[if IE 6]>
  <script src="//letskillie6.googlecode.com/svn/trunk/2/zh_CN.js"></script>
<![endif]-->

</body>
</html>
